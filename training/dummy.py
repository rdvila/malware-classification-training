#!/usr/bin/env python

import os
import sys
import glob
import random

labels = ['adware', 'flooder', 'ransomware', 'dropper', 'spyware', 'packed', 'crypto_miner', 'file_infector', 'installer', 'worm', 'downloader']
features = [f"feature_{x}" for x in range(2381)]
prefix="/opt/ml"

def log_container_info():
    print('------------------- environment variables -------------------')
    print(os.environ)
    print('------------------- environment variables -------------------')
    print('------------------- arguments -------------------')
    print(sys.argv)
    print('------------------- arguments -------------------')
    print('------------------- filesystem -------------------')
    for filename in glob.iglob(prefix + '**/**', recursive=True):
        print(filename)
    print('------------------- filesystem -------------------')
    print('------------------- config -------------------')
    for filename in glob.iglob(prefix + '**/**', recursive=True):
        if filename.endswith(".json"):
            print(f'------------------- {filename} -------------------')
            with open(filename, "r") as f:
                print(f.read())
            print(f'------------------- {filename} -------------------')
    print('------------------- config -------------------')


if __name__ == '__main__':
    with open('/opt/ml/input/config/hyperparameters.json', 'r') as f:
        print(f.read())

    log_container_info()

    print(f"accuracy_score={random.uniform(0, 1):.3f};")

    sys.exit(0)
